(function ($, Drupal, window, document, undefined) {

  Drupal.behaviors.orgChart = {
  attach: function (context, settings) {
    $(document).ready(function () {
      google.charts.load('current', {packages: ["orgchart"]});
      google.charts.setOnLoadCallback(function() {
        drawChart($.parseJSON(settings.data));
      });
    });
  }
}})(jQuery, Drupal, this, this.document);

function drawChart(node_data) {
  //console.log(node_data);
  var data = new google.visualization.DataTable();
  data.addColumn('string', 'Name');
  data.addColumn('string', 'Manager');
  data.addColumn('string', 'ToolTip');

  // For each orgchart box, provide the name, manager, and tooltip to show.
  //data.addRows([[{"v":"93","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/president&quot;&gt;President&lt;\/a&gt;"},"",""],[{"v":"228","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/assembly&quot;&gt;Assembly&lt;\/a&gt;"},"93",""],[{"v":"200","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/assembly\/committee-peace-and-international-security&quot;&gt;Committee on Peace and International Security&lt;\/a&gt;"},"228",""],[{"v":"201","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/assembly\/committee-sustainable-development-finance-and-trade&quot;&gt;Committee on Sustainable Development, Finance and Trade&lt;\/a&gt;"},"228",""],[{"v":"202","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/assembly\/committee-democracy-and-human-rights&quot;&gt;Committee on Democracy and Human Rights&lt;\/a&gt;"},"228",""],[{"v":"203","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/assembly\/committee-united-nations-affairs&quot;&gt;Committee on United Nations Affairs&lt;\/a&gt;"},"228",""],[{"v":"97","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/governing-council&quot;&gt;Governing Council&lt;\/a&gt;"},"93",""],[{"v":"205","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/governing-council\/committee-human-rights-parliamentarians&quot;&gt;Committee on the Human Rights of Parliamentarians&lt;\/a&gt;"},"97",""],[{"v":"98","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/governing-council\/committee-middle-east-questions&quot;&gt;Committee on Middle East Questions&lt;\/a&gt;"},"97",""],[{"v":"209","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/governing-council\/group-facilitators-cyprus&quot;&gt;Group of Facilitators for Cyprus&lt;\/a&gt;"},"97",""],[{"v":"218","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/governing-council\/committee-promote-respect-international-humanitarian-law&quot;&gt;Committee to Promote Respect for International Humanitarian Law&lt;\/a&gt;"},"97",""],[{"v":"210","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/governing-council\/advisory-group-health&quot;&gt;Advisory Group on Health&lt;\/a&gt;"},"97",""],[{"v":"9855","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/governing-council\/high-level-advisory-group-countering-terrorism-and-violent-extremism&quot;&gt;High-Level Advisory Group on Countering Terrorism and Violent Extremism&lt;\/a&gt;"},"97",""],[{"v":"216","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/governing-council\/forum-women-parliamentarians&quot;&gt;Forum of Women Parliamentarians&lt;\/a&gt;"},"97",""],[{"v":"396","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/governing-council\/forum-young-parliamentarians&quot;&gt;Forum of Young Parliamentarians&lt;\/a&gt;"},"97",""],[{"v":"99","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/executive-committee&quot;&gt;Executive Committee&lt;\/a&gt;"},"93",""],[{"v":"222","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/executive-committee\/gender-partnership-group&quot;&gt;Gender Partnership Group&lt;\/a&gt;"},"99",""],[{"v":"100","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/executive-committee\/sub-committee-finance&quot;&gt;Sub-Committee on Finance&lt;\/a&gt;"},"99",""],[{"v":"9199","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/executive-committee\/working-group-syria&quot;&gt;Working Group on Syria &lt;\/a&gt;"},"99",""],[{"v":"101","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/secretary-general&quot;&gt;Secretary General&lt;\/a&gt;"},"",""],[{"v":"197","f":"&lt;a href=&quot;\/about-ipu\/structure-and-governance\/secretariat&quot;&gt;Secretariat&lt;\/a&gt;"},"101",""]]);

  //data.addRows([[{"v":"93","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/president&quot;&gt;President&lt;/a&gt;"},"",""],[{"v":"228","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/assembly&quot;&gt;Assembly&lt;/a&gt;"},"93",""],[{"v":"200","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/assembly/committee-peace-and-international-security&quot;&gt;Committee on Peace and International Security&lt;/a&gt;"},"228",""],[{"v":"201","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/assembly/committee-sustainable-development-finance-and-trade&quot;&gt;Committee on Sustainable Development, Finance and Trade&lt;/a&gt;"},"228",""],[{"v":"202","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/assembly/committee-democracy-and-human-rights&quot;&gt;Committee on Democracy and Human Rights&lt;/a&gt;"},"228",""],[{"v":"203","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/assembly/committee-united-nations-affairs&quot;&gt;Committee on United Nations Affairs&lt;/a&gt;"},"228",""],[{"v":"97","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/governing-council&quot;&gt;Governing Council&lt;/a&gt;"},"93",""],[{"v":"205","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/governing-council/committee-human-rights-parliamentarians&quot;&gt;Committee on the Human Rights of Parliamentarians&lt;/a&gt;"},"97",""],[{"v":"98","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/governing-council/committee-middle-east-questions&quot;&gt;Committee on Middle East Questions&lt;/a&gt;"},"97",""],[{"v":"209","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/governing-council/group-facilitators-cyprus&quot;&gt;Group of Facilitators for Cyprus&lt;/a&gt;"},"97",""],[{"v":"218","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/governing-council/committee-promote-respect-international-humanitarian-law&quot;&gt;Committee to Promote Respect for International Humanitarian Law&lt;/a&gt;"},"97",""],[{"v":"210","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/governing-council/advisory-group-health&quot;&gt;Advisory Group on Health&lt;/a&gt;"},"97",""],[{"v":"9855","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/governing-council/high-level-advisory-group-countering-terrorism-and-violent-extremism&quot;&gt;High-Level Advisory Group on Countering Terrorism and Violent Extremism&lt;/a&gt;"},"97",""],[{"v":"216","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/governing-council/forum-women-parliamentarians&quot;&gt;Forum of Women Parliamentarians&lt;/a&gt;"},"97",""],[{"v":"396","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/governing-council/forum-young-parliamentarians&quot;&gt;Forum of Young Parliamentarians&lt;/a&gt;"},"97",""],[{"v":"99","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/executive-committee&quot;&gt;Executive Committee&lt;/a&gt;"},"93",""],[{"v":"222","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/executive-committee/gender-partnership-group&quot;&gt;Gender Partnership Group&lt;/a&gt;"},"99",""],[{"v":"100","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/executive-committee/sub-committee-finance&quot;&gt;Sub-Committee on Finance&lt;/a&gt;"},"99",""],[{"v":"9199","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/executive-committee/working-group-syria&quot;&gt;Working Group on Syria &lt;/a&gt;"},"99",""],[{"v":"101","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/secretary-general&quot;&gt;Secretary General&lt;/a&gt;"},"",""],[{"v":"197","f":"&lt;a href=&quot;/about-ipu/structure-and-governance/secretariat&quot;&gt;Secretariat&lt;/a&gt;"},"101",""]]);

  data.addRows(node_data);
  /*data.addRows([
    [{'v':'93', 'f':'<a href="/node/93">IPU President</a>'}, '', 'IPU President'],
    [{'v':'101', 'f':'Secretary general'}, '', ''],
    [{'v':'228', 'f':'Assembly'}, '93', ''],
    [{'v':'97', 'f':'Governing Council'}, '93', ''],
    [{'v':'99', 'f':'Executive committee'}, '93', ''],
    [{'v': '200', 'f':	'Committee on Peace and International Security'}, '228', ''],
    [{'v': '197', 'f':	'Secretariat'}, '101', ''],

  ]);
  */

  // Create the chart.
  var chart = new google.visualization.OrgChart(document.getElementById('chart_div'));
  // Draw the chart, setting the allowHtml option to true for the tooltips.
  chart.draw(data, {'allowHtml':true});
}